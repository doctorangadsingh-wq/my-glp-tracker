Here is the complete, single-file code for your web app.
I have designed this to run entirely in your browser using Local Storage. The first time you open it, it will greet you with a Setup Screen to get your Height and Start Weight. After that, it unlocks the full dashboard.
How to use this:
 * Copy the code below.
 * Create a new file on your computer named index.html.
 * Paste the code into that file and save.
 * Upload this index.html to your GitHub Repository.
 * Turn on "GitHub Pages" in your repository settings.
The Code
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health & GLP-1 Tracker</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg-color: #F2F2F7;
            --card-bg: #FFFFFF;
            --text-primary: #1C1C1E;
            --text-secondary: #8E8E93;
            --accent-blue: #007AFF;
            --accent-green: #34C759;
            --accent-red: #FF3B30;
            --accent-orange: #FF9500;
            --accent-purple: #AF52DE;
            --radius: 20px;
            --shadow: 0 4px 20px rgba(0,0,0,0.05);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            margin: 0;
            padding: 20px;
            -webkit-font-smoothing: antialiased;
        }

        h1, h2, h3 { margin: 0; font-weight: 700; }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding-bottom: 50px;
        }

        /* --- UI COMPONENTS --- */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            transition: transform 0.2s;
        }

        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; }

        .stat-box {
            background: #F9F9F9;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
        }
        .stat-value { font-size: 24px; font-weight: 800; display: block; margin-top: 5px; }
        .stat-label { font-size: 12px; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px; }

        .btn {
            background: var(--accent-blue);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 12px;
            width: 100%;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
        }
        .btn:hover { opacity: 0.9; }

        input, select {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            border: 1px solid #E5E5EA;
            background: #F2F2F7;
            font-size: 16px;
            margin-bottom: 10px;
            box-sizing: border-box;
        }
        input:focus { outline: none; border-color: var(--accent-blue); background: #fff; }

        /* --- SPECIFIC SECTIONS --- */
        
        /* Setup Modal */
        #setup-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .setup-content {
            background: white;
            padding: 40px;
            border-radius: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            width: 90%;
            max-width: 400px;
            text-align: center;
        }

        /* Toggles */
        .toggle-group {
            display: flex;
            background: #E5E5EA;
            padding: 4px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        .toggle-option {
            flex: 1;
            padding: 10px;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            color: var(--text-secondary);
        }
        .toggle-option.active {
            background: white;
            color: var(--text-primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        /* Indicators */
        .tick { color: var(--accent-green); font-weight: bold; }
        .cross { color: var(--accent-red); font-weight: bold; }

        /* Graph Container */
        .chart-container {
            position: relative; 
            height: 350px; 
            width: 100%;
        }

        /* Velocity & Predictions */
        .velocity-card { background: linear-gradient(135deg, #007AFF, #5856D6); color: white; }
        .velocity-card .stat-label { color: rgba(255,255,255,0.7); }
        .velocity-card .stat-value { color: white; }

        /* GLP-1 Badge */
        .dose-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            color: white;
            margin-left: 10px;
        }
        .dose-2-5 { background-color: var(--accent-green); }
        .dose-5 { background-color: var(--accent-red); }

    </style>
</head>
<body>

    <div id="setup-modal" style="display:none;">
        <div class="setup-content">
            <h2>Welcome</h2>
            <p style="color:var(--text-secondary); margin-bottom: 20px;">Let's get your baseline set up.</p>
            
            <label style="text-align:left; display:block; font-size:12px; margin-bottom:5px;">Your Height (cm)</label>
            <input type="number" id="setup-height" placeholder="e.g. 175">
            
            <label style="text-align:left; display:block; font-size:12px; margin-bottom:5px;">Starting Weight (kg)</label>
            <input type="number" id="setup-weight" placeholder="e.g. 90">

            <button class="btn" onclick="saveSetup()">Start Tracking</button>
        </div>
    </div>

    <div class="container" id="app-container">
        
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <div>
                <h1>Health OS</h1>
                <span id="current-date" style="color:var(--text-secondary); font-size: 14px;">Today</span>
            </div>
            <div id="bmi-pill" style="background:#E5E5EA; padding: 5px 15px; border-radius: 20px; font-weight: 700; font-size: 14px;">
                BMI: --
            </div>
        </div>

        <div class="card velocity-card">
            <div class="grid-3">
                <div class="stat-box" style="background:rgba(255,255,255,0.1);">
                    <span class="stat-label">Net Loss</span>
                    <span class="stat-value" id="net-loss">-- kg</span>
                </div>
                <div class="stat-box" style="background:rgba(255,255,255,0.1);">
                    <span class="stat-label">Velocity (7d)</span>
                    <span class="stat-value" id="loss-velocity">--</span>
                </div>
                <div class="stat-box" style="background:rgba(255,255,255,0.1);">
                    <span class="stat-label">In 4 Weeks</span>
                    <span class="stat-value" id="prediction-weight">--</span>
                </div>
            </div>
        </div>

        <div class="card">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h3>GLP-1 Status</h3>
                <span id="next-dose-date" style="font-weight:600; color:var(--accent-blue);">Next Dose: --</span>
            </div>
            <div style="margin-top: 15px;" class="grid-2">
                <div>
                    <label class="stat-label">Last Dose Date</label>
                    <input type="date" id="glp-date">
                </div>
                <div>
                    <label class="stat-label">Dosage</label>
                    <div class="toggle-group" id="glp-toggle">
                        <div class="toggle-option active" onclick="setDose(2.5, this)">2.5mg</div>
                        <div class="toggle-option" onclick="setDose(5, this)">5mg</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h3>Progress Overview</h3>
            <p style="font-size:12px; color:var(--text-secondary);">Weight (Lines) vs Calories (Bars)</p>
            <div class="chart-container">
                <canvas id="mainChart"></canvas>
            </div>
        </div>

        <div class="card">
            <h3>Daily Log</h3>
            <div class="grid-2">
                <div>
                    <label class="stat-label">Weight (kg)</label>
                    <input type="number" id="daily-weight" step="0.1">
                </div>
                <div>
                    <label class="stat-label">Calories</label>
                    <input type="number" id="daily-calories">
                </div>
                <div>
                    <label class="stat-label">Protein (g)</label>
                    <input type="number" id="daily-protein">
                </div>
                <div style="display:flex; align-items:center; justify-content: space-between; padding-top:20px;">
                    <label class="stat-label">Exercise?</label>
                    <input type="checkbox" id="daily-exercise" style="width:25px; height:25px; margin:0;">
                </div>
            </div>
            <div class="grid-2">
                <div>
                    <label class="stat-label">Chest (cm)</label>
                    <input type="number" id="daily-chest">
                </div>
                <div>
                    <label class="stat-label">Waist (cm)</label>
                    <input type="number" id="daily-waist">
                </div>
            </div>
            <button class="btn" onclick="addEntry()">Log Today</button>
        </div>

        <div class="card">
            <h3>Recent History</h3>
            <table style="width:100%; text-align:left; border-collapse: collapse; margin-top:15px; font-size:14px;">
                <thead>
                    <tr style="border-bottom: 1px solid #E5E5EA; color:var(--text-secondary);">
                        <th style="padding:10px 0;">Date</th>
                        <th>Wt</th>
                        <th>Prot.</th>
                        <th>Ex.</th>
                        <th>Dose</th>
                    </tr>
                </thead>
                <tbody id="history-body">
                    </tbody>
            </table>
        </div>

    </div>

<script>
    // --- STATE MANAGEMENT ---
    let appData = {
        settings: {
            height: null,
            startWeight: null,
            startDate: null
        },
        entries: [] // Array of {date, weight, calories, protein, exercise, chest, waist, glpDose}
    };

    let currentDoseSelection = 2.5;

    // --- INITIALIZATION ---
    window.onload = function() {
        const storedData = localStorage.getItem('healthApp_v1');
        document.getElementById('current-date').innerText = new Date().toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' });
        
        // Set default date for GLP input
        document.getElementById('glp-date').valueAsDate = new Date();

        if (storedData) {
            appData = JSON.parse(storedData);
            renderDashboard();
        } else {
            document.getElementById('setup-modal').style.display = 'flex';
        }
    };

    // --- SETUP LOGIC ---
    function saveSetup() {
        const h = parseFloat(document.getElementById('setup-height').value);
        const w = parseFloat(document.getElementById('setup-weight').value);
        
        if (!h || !w) return alert("Please enter both fields");

        appData.settings.height = h;
        appData.settings.startWeight = w;
        appData.settings.startDate = new Date().toISOString().split('T')[0];
        
        saveData();
        document.getElementById('setup-modal').style.display = 'none';
        renderDashboard();
    }

    function setDose(amount, el) {
        currentDoseSelection = amount;
        const options = document.querySelectorAll('.toggle-option');
        options.forEach(opt => opt.classList.remove('active'));
        el.classList.add('active');
    }

    // --- CORE FUNCTIONS ---
    function addEntry() {
        const date = new Date().toISOString().split('T')[0];
        const weight = parseFloat(document.getElementById('daily-weight').value);
        const calories = parseFloat(document.getElementById('daily-calories').value);
        const protein = parseFloat(document.getElementById('daily-protein').value);
        const exercise = document.getElementById('daily-exercise').checked;
        const chest = parseFloat(document.getElementById('daily-chest').value) || null;
        const waist = parseFloat(document.getElementById('daily-waist').value) || null;
        
        // GLP-1 Logic check: Did they update the dose date?
        const glpDateInput = document.getElementById('glp-date').value;
        // Simple logic: We store the dose status for the day. 
        // We will assume if they log today, they are on the selected dose.
        
        // Remove existing entry for today if exists to allow update
        appData.entries = appData.entries.filter(e => e.date !== date);

        const newEntry = {
            date,
            weight,
            calories,
            protein,
            exercise,
            chest,
            waist,
            glpDose: currentDoseSelection, // Stores which dose is currently active
            glpInjectionDate: glpDateInput // Stores the reference date for calculation
        };

        appData.entries.push(newEntry);
        // Sort by date
        appData.entries.sort((a, b) => new Date(a.date) - new Date(b.date));

        saveData();
        renderDashboard();
        
        // Clear inputs
        document.getElementById('daily-weight').value = '';
        document.getElementById('daily-calories').value = '';
        document.getElementById('daily-protein').value = '';
        document.getElementById('daily-exercise').checked = false;
    }

    function saveData() {
        localStorage.setItem('healthApp_v1', JSON.stringify(appData));
    }

    // --- CALCULATIONS & RENDERING ---
    function renderDashboard() {
        const entries = appData.entries;
        if (entries.length === 0) return;

        const latest = entries[entries.length - 1];

        // 1. BMI
        const heightM = appData.settings.height / 100;
        const bmi = (latest.weight / (heightM * heightM)).toFixed(1);
        document.getElementById('bmi-pill').innerText = `BMI: ${bmi}`;

        // 2. Net Loss
        const loss = (appData.settings.startWeight - latest.weight).toFixed(1);
        document.getElementById('net-loss').innerText = `-${loss} kg`;

        // 3. Velocity & Prediction
        // Look back 7-14 days
        let velocity = 0;
        if (entries.length > 1) {
            // Find entry roughly 7 days ago, or the first entry if less than 7 days
            const daysAgo = 7;
            const now = new Date(latest.date);
            
            // Get data points
            const weights = entries.map(e => ({ t: new Date(e.date).getTime(), y: e.weight }));
            
            // Simple rate: (Start Weight Window - Current Weight) / Days
            // Let's use the very first entry if less than 7 days, or entry 7 days ago
            let refEntry = entries[0];
            for (let i = entries.length - 1; i >= 0; i--) {
                const d = new Date(entries[i].date);
                const diffTime = Math.abs(now - d);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
                if (diffDays >= 7) {
                    refEntry = entries[i];
                    break;
                }
            }

            const diffDays = (now - new Date(refEntry.date)) / (1000 * 60 * 60 * 24);
            if(diffDays > 0) {
                const diffWeight = refEntry.weight - latest.weight;
                velocity = (diffWeight / diffDays); // kg per day loss
            }
        }

        const velText = velocity > 0 ? `-${(velocity * 7).toFixed(2)} kg/wk` : "Calculating...";
        document.getElementById('loss-velocity').innerText = velText;

        // Prediction: Current - (Velocity * 28)
        if (velocity > 0) {
            const predicted = (latest.weight - (velocity * 28)).toFixed(1);
            document.getElementById('prediction-weight').innerText = `${predicted} kg`;
        } else {
            document.getElementById('prediction-weight').innerText = "--";
        }

        // 4. GLP Next Dose
        if (latest.glpInjectionDate) {
            const lastInj = new Date(latest.glpInjectionDate);
            const nextInj = new Date(lastInj);
            nextInj.setDate(lastInj.getDate() + 7);
            
            const daysUntil = Math.ceil((nextInj - new Date()) / (1000 * 60 * 60 * 24));
            
            let doseMsg = `Due in ${daysUntil} days`;
            if (daysUntil === 0) doseMsg = "Due Today!";
            if (daysUntil < 0) doseMsg = `Overdue by ${Math.abs(daysUntil)} days`;
            
            document.getElementById('next-dose-date').innerText = doseMsg;
            // Update the toggle UI to match latest entry
            setDose(latest.glpDose, document.querySelectorAll('.toggle-option')[latest.glpDose === 2.5 ? 0 : 1]);
            document.getElementById('glp-date').value = latest.glpInjectionDate;
        }

        // 5. Update History Table
        const tbody = document.getElementById('history-body');
        tbody.innerHTML = '';
        // Show last 5 entries reversed
        [...entries].reverse().slice(0, 5).forEach(e => {
            const proteinDisplay = e.protein > 200 ? '<span class="tick">✔</span>' : `${e.protein}g`;
            const exDisplay = e.exercise ? '<span class="tick">✔</span>' : '<span class="cross">✘</span>';
            const doseClass = e.glpDose === 2.5 ? 'dose-2-5' : 'dose-5';
            
            const row = `<tr>
                <td style="padding:10px 0; color:var(--text-secondary);">${e.date.slice(5)}</td>
                <td style="font-weight:600;">${e.weight}</td>
                <td>${proteinDisplay}</td>
                <td>${exDisplay}</td>
                <td><span class="dose-badge ${doseClass}">${e.glpDose}mg</span></td>
            </tr>`;
            tbody.innerHTML += row;
        });

        updateChart(entries);
    }

    // --- CHART LOGIC ---
    let myChart;

    function updateChart(data) {
        const ctx = document.getElementById('mainChart').getContext('2d');
        const labels = data.map(e => e.date.slice(5)); // MM-DD
        const weights = data.map(e => e.weight);
        const calories = data.map(e => e.calories);
        
        // Color coding segments for GLP
        // We need to create a segment configuration
        const segmentColors = data.map(e => e.glpDose === 2.5 ? '#34C759' : '#FF3B30');

        if (myChart) myChart.destroy();

        myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [
                    {
                        label: 'Calories',
                        data: calories,
                        type: 'bar',
                        yAxisID: 'y1',
                        backgroundColor: 'rgba(0, 122, 255, 0.2)',
                        borderRadius: 4,
                        barThickness: 10
                    },
                    {
                        label: 'Weight',
                        data: weights,
                        yAxisID: 'y',
                        borderColor: '#34C759', // Default fallback
                        borderWidth: 3,
                        tension: 0.3,
                        pointBackgroundColor: '#fff',
                        pointBorderWidth: 2,
                        segment: {
                            borderColor: ctx => {
                                // Logic: Use the color of the "target" point
                                const index = ctx.p1DataIndex; 
                                return segmentColors[index];
                            }
                        }
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        grid: { display: false }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        grid: { color: '#F2F2F7' },
                        min: 0
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });
    }

</script>
</body>
</html>

